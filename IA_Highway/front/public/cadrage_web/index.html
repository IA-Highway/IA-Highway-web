<!DOCTYPE html>
<html>
  <head>
    <link href="css/main.css" rel="stylesheet" />
  </head>
  <body>
    <p>
      <input
        type="file"
        accept="image/*"
        name="image"
        id="file"
        onchange="loadFile(event)"
        style="display: none;"
      />
    </p>
    <p>
      <div class="centre">
        <label for="file" class = "upload" style="cursor: pointer;" >Upload Image</label>
        <button onclick="getPreciseLocation()">Precise Location </button> 
        <p id="latitude"></p>
        <p id="longitude"></p>
        
      </div>
    </p>
    <p><img id="output" width="900" hidden /></p>
  </body>

  <script type="text/javascript" src="js/jquery1.11.1.min.js"></script>
  <script type="text/javascript" src="js/kinetic.5.1.0.min.js"></script>
  <script type="text/javascript" src="js/draggable.js"></script>
  <script type="text/javascript" src="js/smartimagemapper.1.2.js"></script>
  <script
    type="text/javascript"
    src="js/smartimagemapper.i18n.en_US.js"
  ></script>
  <!-- <script language="javascript">
    $(window).load(function() {
      var myOps = { imagePath: "images/test.jpg" };
      smartImageMap.module.init(myOps);
    });
  </script> -->

  <script language="javascript">
    var loadFile = function(event) {
      var image = document.getElementById("output");
      image.src = URL.createObjectURL(event.target.files[0]);
      var myOps = { imagePath: image.src };
      smartImageMap.module.init(myOps); //Charge image in the Polygon area
    };
  </script>
  <script >
    var lat = document.getElementById("latitude");
    var lon= document.getElementById("longitude");
    function getPreciseLocation(){
        if(navigator.geolocation){
            navigator.geolocation.getCurrentPosition(showExactPosition)
        }else{
          lat.innerHTML = "Geolocation is not supported"
          lon.innerHTML = "Geolocation is not supported"
        }
    }
    function showExactPosition(position){
      lat.innerHTML = "Latitude: "+position.coords.latitude;
      lon.innerHTML ="Longitude: "+position.coords.longitude;
    }
   </script> 
   

</html>
